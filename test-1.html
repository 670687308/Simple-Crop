<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试一</title>
    <link rel="stylesheet" href="./dist/template-1.css">
</head>
<body>
    <script src="./index.js"></script>
    <script>
        window.onload = function(){
            var simpleCrop = new SimpleCrop({
                title:'上传图片过大，请裁剪',
                src:'./img/test1.jpg',
                size:{
                    width:800,
                    height:900
                },
                cropCallback:function(){
                    this.$resultCanvas.style.marginRight = '10px';
                    document.body.appendChild(this.$resultCanvas);
                },
                borderDraw:function(){
                    this.cropCoverContext.clearRect(0,0,this.$cropCover.width,this.$cropCover.height);
                    this.cropCoverContext.fillStyle = 'rgba(0,0,0,.3)';
                    this.cropCoverContext.fillRect(0,0,this.$cropCover.width,this.$cropCover.height);
                    this.cropCoverContext.fillStyle = '#0BFF00';
                    var width = this.borderWidth*2 + this.cropRect.width;
                    var height = this.borderWidth*2 + this.cropRect.height;
                    this.cropCoverContext.fillRect((this.maskViewSize.width-width)/2,(this.maskViewSize.height-height)/2,width,height);
                    this.cropCoverContext.clearRect((this.maskViewSize.width-this.cropRect.width)/2,(this.maskViewSize.height-this.cropRect.height)/2,this.cropRect.width,this.cropRect.height);
                },
                coverDraw:function(){
                    this.cropCoverContext.setLineDash([15, 20]);
                    this.cropCoverContext.lineWidth = this.borderWidth;

                    this.cropCoverContext.beginPath();
                    var rect1 = {
                        left:(this.maskViewSize.width-this.cropRect.width)*1.0/2,
                        top:(this.maskViewSize.height-this.cropRect.height)*1.0/2+this.cropRect.height*0.125,
                        right:(this.maskViewSize.width-this.cropRect.width)*1.0/2+this.cropRect.width,
                        bottom:(this.maskViewSize.height-this.cropRect.height)*1.0/2+this.cropRect.height-this.cropRect.height*0.125
                    }
                    this.cropCoverContext.moveTo(rect1.left,rect1.top);
                    this.cropCoverContext.lineTo(rect1.right,rect1.top);
                    this.cropCoverContext.moveTo(rect1.left,rect1.bottom);
                    this.cropCoverContext.lineTo(rect1.right,rect1.bottom);
                    this.cropCoverContext.strokeStyle = '#ffffff';
                    this.cropCoverContext.stroke();

                    this.cropCoverContext.beginPath();
                    var rect2 = {
                        left:(this.maskViewSize.width-this.cropRect.width)*1.0/2+this.cropRect.width*0.2,
                        top:(this.maskViewSize.height-this.cropRect.height)*1.0/2+this.cropRect.height*0.2,
                        right:(this.maskViewSize.width-this.cropRect.width)*1.0/2+this.cropRect.width-this.cropRect.width*0.2 ,
                        bottom:(this.maskViewSize.height-this.cropRect.height)*1.0/2+this.cropRect.height-this.cropRect.height*0.2
                    }
                    this.cropCoverContext.moveTo(rect2.left,rect2.top);
                    this.cropCoverContext.lineTo(rect2.right,rect2.top);
                    this.cropCoverContext.lineTo(rect2.right,rect2.bottom);
                    this.cropCoverContext.lineTo(rect2.left,rect2.bottom);
                    this.cropCoverContext.lineTo(rect2.left,rect2.top);
                    this.cropCoverContext.strokeStyle = '#ffeb3b';
                    this.cropCoverContext.stroke();
                }
            });
        }
    </script>
</body>
</html>